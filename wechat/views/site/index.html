<ion-view>
<link href="/wechat/web/css/plugin/ionic/ionic-citypicker.css" rel="stylesheet">
<div class="com_w_100 bhy" ng-controller="site.index">
    <ion-header>
        <div class="bar bar-header">
            <a href="javascript:;" ng-click="cityModal.show()" class="button button-icon "><i
                    class="fs16 ion-android-pin positive mr5"></i><span ng-bind="cityName"></span><i
                    class="ml5 fs14 ion-android-arrow-dropdown positive"></i></a>
            <a href="javascript:;" ng-click="search()" class="button button-icon">搜索</a>
        </div>
    </ion-header>

    <ion-content class="has-header site">
        <ion-list>
            <div class="row" ng-if="userInfo.info">
                <div class="col col-25"><img class="item_uimg rounded" ng-if="userInfo.info.head_pic == '未知'" ng-src="/wechat/web/images/u_noimg.jpg"><img class="item_uimg rounded" ng-if="userInfo.info.head_pic != '未知'" ng-src="{{userInfo.info.head_pic}}"></div>
                <div class="col col-75">
                    <div class="row pl0">
                        <div class="col" ng-if="userInfo.info.real_name != '未知'">会员{{userInfo.info.real_name}}，您好！</div>
                        <div class="col" ng-if="userInfo.info.real_name == '未知'">会员ID:{{userInfo.id}}，您好！</div>
                        <label class="label-right fs12 cor20">ID:{{userInfo.id}}</label>
                    </div>

                    <div class="row pl0">
                        <div class="col"><a class="warn" href="/member/information" ng-if="userInfo.identity_pic.url1 == '未知'"><i
                                class="ion-ios-information cor0 mr5"></i>请您上传身份证，完善资料 >></a></div>
                    </div>
                </div>
            </div>
            <div class="row" ng-if="!userInfo.info">
                <div class="col col-25"><img class="item_uimg rounded" ng-src="/wechat/web/images/u_noimg.jpg"></div>
                <div class="col col-75">

                    <div class="row pl0">
                        <div class="col" >会员您好！您还没有登录！</div>
                    </div>

                    <div class="row pl0">
                        <div class="col"></div>
                    </div>
                </div>
            </div>


            <ion-item collection-repeat="user in userList track by user.id | user.id != userInfo.id " item="item" ui-sref="main.message_chat({id:user.id,head_pic:user.info.head_pic})" ng-click="showMenu(false)">
                <div class="row">
                    <div class="col col-25"><img class="item_uimg rounded" ng-src="{{user.info.head_pic}}"></div>

                    <div class="col col-75">
                        <div class="row pl0">
                            <div class="col">
                                <span class="fwb fs14" ng-if="user.info.real_name != '未知'">{{user.info.real_name | sex:user.sex :user.info.age}}</span>
                                <span class="fwb fs14" ng-if="user.info.real_name == '未知'">会员ID:{{user.id}}</span>
                                <span ng-if="user.info.age != '未知'" class="cor19 fs12">{{user.info.age | timeToAge}}岁</span> <span ng-if="user.info.height != '未知'"
                                    class="cor19 fs12">{{user.info.height}}cm</span>
                                <span ng-if="user.info.is_marriage != '未知'" class="cor19 fs12">{{user.info.is_marriage}}</span>
                            </div>
                            <div class="col-20"><label class="label-right fs12"><i
                                    class="ion-android-pin mr5 positive"></i>{{user.info.local}}</label>
                            </div>
                        </div>

                        <div class="row pl0">
                            <p class="col fs12"><span class="identity sfz" ng-if="user.identity_pic.is_check == 1">身份证</span> <span class="identity phone" ng-if="user.phone">手机</span> <span ng-if="user.info.level == 1" class="identity vip">vip</span> <span ng-if="user.info.level == 2" class="identity guest">贵宾</span> <span ng-if="user.info.level == 3" class="identity diamond">钻石</span></p>
                        </div>

                        <div class="row pl0">
                            <div class="col">
                                <p class="cor20 signature">{{user.personalized}}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </ion-item>
        </ion-list>
        <ion-item style="padding: 0; border: 0;"  ng-if="pageLast">
            <button style="margin: 0;" class="button button-block" ng-click="loadMore()">点击加载更多</button>
        </ion-item>
    </ion-content>

    <script id="selCityModal.html" type="text/ng-template">
        <ion-modal-view ng-controller="site.childCityController" ng-cloak>
            <ion-header-bar>
                <a href="javascript:;" ng-click="cityModal.hide()" class="button button-icon " ng-model="searchForm.data.age"><i
                        class="fs16 ion-android-pin positive mr5"></i>{{modalCityName}}<i
                        class="ml5 fs14 ion-android-arrow-dropup positive"></i></a>
                <a href="javascript:;" ng-click="citySave()" class="button button-icon">保存</a>
            </ion-header-bar>
            <ion-content>
                <ion-scroll zooming="false"
                            ng-style="scrollStyle" style="border-right: 1px solid #ccc;">
                    <ion-list style="height: 3000px;">
                        <ion-item ng-repeat="province in provinces track by province.id" item="province"
                                  class="item tac" ng-class="{true:'selected',flase:''}[pvId == province.id]"
                                  href="#" ng-click="selected_pv({{province.id}})">
                            {{province.name}}
                        </ion-item>
                    </ion-list>
                </ion-scroll>
                <ion-scroll zooming="false" ng-style="scrollStyle">
                    <ion-list class="city" style="height: 3000px;">
                        <ion-item ng-repeat="city in citys track by city.id" item="city" class="item tac"
                                  ng-if="pvId == city.parentId" ng-click="selected_city({{city.id}})"
                                  ng-class="{true:'selected',flase:''}[cityId == city.id]" href="#">
                            {{city.name}} <i class="ml25 ion-ios-checkmark-outline"></i>
                        </ion-item>
                    </ion-list>
                </ion-scroll>
            </ion-content>
        </ion-modal-view>
    </script>


    <script id="MoreSearchModal.html" type="text/ng-template">
        <ion-modal-view ng-controller="site.childSearchController" ng-cloak>
            <ion-header-bar>
                <a href="javascript:;" ng-click="searchModal.hide()" class="button button-icon">取消</a>
                <h1 class="title">高级搜索</h1>
                <a href="javascript:;" ng-click="moreSearchModalHide()" class="button button-icon">确定</a>
            </ion-header-bar>
            <ion-content class="stable-bg">
                <div class="row mb15">
                    <div class="col-90 mr0a">
                        <label class="item item-input">
                            <input type="text" ng-model="searchForm.data.id" placeholder="请输入ID">
                        </label>
                    </div>
                </div>
                <div class="row">
                    <div class="col-90 mr0a">
                        <div class="moreSearch_form_box search_sex light-bg clearfix">
                            <a href="javascript:;" class="sex_item" ng-click="searchForm.clickSex('all')"
                               ng-class="{1:'',0:'',all:'checked'}[searchForm.sex]">全部</a>
                            <a href="javascript:;" class="sex_item" ng-click="searchForm.clickSex('1')"
                               ng-class="{1:'checked',0:'',all:''}[searchForm.sex]">男生</a>
                            <a href="javascript:;" class="sex_item" ng-click="searchForm.clickSex('0')"
                               ng-class="{1:'',0:'checked',all:''}[searchForm.sex]">女生</a>
                        </div>
                        <div class="moreSearch_form_box mt10 clearfix">
                            <label class="item item-input item-select">
                                <div class="input-label">
                                    年龄
                                </div>
                                <select ng-model="searchForm.data.age">
                                    <option value="0" selected>不限</option>
                                    <option value="18-22">18-22</option>
                                    <option value="22-26">23-26</option>
                                    <option value="27-35">27-35</option>
                                    <option value="36-45">36-45</option>
                                    <option value="46-55">46-55</option>
                                    <option value="56">56以上</option>
                                </select>
                            </label>
                        </div>
                        <div class="moreSearch_form_box mt10 clearfix">
                            <label class="item item-input item-select">
                                <div class="input-label">
                                    身高
                                </div>
                                <select ng-model="searchForm.data.height">
                                    <option value="0" selected>不限</option>
                                    <option value="140-150">140-150 厘米</option>
                                    <option value="151-155">151-155 厘米</option>
                                    <option value="156-160">156-160 厘米</option>
                                    <option value="161-165">161-165 厘米</option>
                                    <option value="166-170">166-170 厘米</option>
                                    <option value="171-175">171-175 厘米</option>
                                    <option value="176-180">176-180 厘米</option>
                                    <option value="181-185">181-185 厘米</option>
                                    <option value="186-190">186-190 厘米</option>
                                    <option value="191">191 厘米以上</option>
                                </select>
                            </label>
                        </div>
                    </div>
                </div>
                <a class="tac lh36 dbl cp" ng-click="moreToggle()">{{moreText}}更多条件 <i
                        ng-class="{true:'ion-android-arrow-dropup',false:'ion-android-arrow-dropdown'}[more]"></i></a>
                <div class="row" ng-if="more">
                    <div class="col-90 mr0a">
                        <!--<div class="moreSearch_form_box mt10 clearfix">
                            <label class="item item-input item-select">
                                <div class="input-label">
                                    所在地区
                                </div>
                                <ionic-city-picker placeholder="" tag="-" backdrop=true
                                                   backdrop-click-to-close=false css-class="bhy-search-city-picker" okText="确定"
                                                   citydata="citydata" button-clicked="vm.cb()"></ionic-city-picker>
                            </label>
                        </div>-->
                        <div class="moreSearch_form_box mt10 clearfix">
                            <label class="item item-input item-select">
                                <div class="input-label">
                                    婚姻状况
                                </div>
                                <select ng-model="searchForm.data.is_marriage">
                                    <option value="0" selected>不限</option>
                                    <option value="1">未婚</option>
                                    <option value="2">离异</option>
                                    <option value="3">丧偶</option>
                                    <option value="4">已婚</option>
                                </select>
                            </label>
                        </div>
                        <div class="moreSearch_form_box mt10 clearfix">
                            <label class="item item-input item-select">
                                <div class="input-label">
                                    有无子女
                                </div>
                                <select ng-model="searchForm.data.is_child">
                                    <option value="0" selected>不限</option>
                                    <option value="1">无小孩</option>
                                    <option value="2">有小孩跟自己</option>
                                    <option value="3">有小孩跟对方</option>
                                    <option value="4">有小孩已独立</option>
                                </select>
                            </label>
                        </div>
                        <div class="moreSearch_form_box mt10 clearfix">
                            <label class="item item-input item-select">
                                <div class="input-label">
                                    学历
                                </div>
                                <select ng-model="searchForm.data.education">
                                    <option value="0" selected>不限</option>
                                    <option value="1">高中以下</option>
                                    <option value="2">高中/中专</option>
                                    <option value="3">大专</option>
                                    <option value="4">本科</option>
                                    <option value="5">双学士</option>
                                    <option value="6">硕士</option>
                                    <option value="7">硕士研究生</option>
                                    <option value="8">博士</option>
                                    <option value="9">博士后</option>
                                </select>
                            </label>
                        </div>
                        <div class="moreSearch_form_box mt10 clearfix">
                            <label class="item item-input item-select">
                                <div class="input-label">
                                    年收入
                                </div>
                                <select ng-model="searchForm.data.year_income">
                                    <option value="0" selected>不限</option>
                                    <option value="1">1万以下</option>
                                    <option value="2">1万-3万</option>
                                    <option value="3">3万-5万</option>
                                    <option value="4">5万-7万</option>
                                    <option value="5">7万-10万</option>
                                    <option value="6">10万-15万</option>
                                    <option value="7">15万-20万</option>
                                    <option value="8">20万-25万</option>
                                    <option value="9">25万-50万</option>
                                    <option value="10">50万-100万</option>
                                    <option value="11">100万以上</option>
                                </select>
                            </label>
                        </div>
                        <div class="moreSearch_form_box mt10 clearfix">
                            <label class="item item-input item-select">
                                <div class="input-label">
                                    购房
                                </div>
                                <select ng-model="searchForm.data.is_purchase">
                                    <option value="0" selected>不限</option>
                                    <option value="1">有房</option>
                                    <option value="2">无房</option>
                                </select>
                            </label>
                        </div>
                        <div class="moreSearch_form_box mt10 clearfix">
                            <label class="item item-input item-select">
                                <div class="input-label">
                                    购车
                                </div>
                                <select ng-model="searchForm.data.is_car">
                                    <option value="0" selected>不限</option>
                                    <option value="1">有车</option>
                                    <option value="2">无车</option>
                                    <option value="3">有豪车</option>
                                </select>
                            </label>
                        </div>
                        <div class="moreSearch_form_box mt10 clearfix">
                            <label class="item item-input item-select">
                                <div class="input-label">
                                    职业
                                </div>
                                <select ng-model="searchForm.data.occupation">
                                    <option value="0" selected>不限</option>
                                    <option value="1">学生</option>
                                    <option value="2">计算机/互联网</option>
                                    <option value="3">通信/电子</option>
                                    <option value="4">生产/制造</option>
                                    <option value="5">销售</option>
                                    <option value="6">广告/市场</option>
                                    <option value="7">传媒/艺术</option>
                                    <option value="8">商贸/采购</option>
                                    <option value="9">客户服务</option>
                                    <option value="10">人事/行政</option>
                                    <option value="11">高级管理</option>
                                    <option value="12">交通运输</option>
                                    <option value="13">物流/仓储</option>
                                    <option value="14">政府机构</option>
                                    <option value="15">教育/科研</option>
                                    <option value="16">服务业</option>
                                    <option value="17">建筑/房地产</option>
                                    <option value="18">法律</option>
                                    <option value="19">财会/审计</option>
                                    <option value="20">生物/制药</option>
                                    <option value="21">医疗/护理</option>
                                    <option value="22">金融/银行/保险</option>
                                    <option value="23">咨询/顾问</option>
                                </select>
                            </label>
                        </div>
                        <div class="moreSearch_form_box mt10 clearfix">
                            <label class="item item-input item-select">
                                <div class="input-label">
                                    属相
                                </div>
                                <select ng-model="searchForm.data.zodiac">
                                    <option value="0" selected>不限</option>
                                    <option value="1">子鼠</option>
                                    <option value="2">丑牛</option>
                                    <option value="3">寅虎</option>
                                    <option value="4">卯兔</option>
                                    <option value="5">辰龙</option>
                                    <option value="6">巳蛇</option>
                                    <option value="7">午马</option>
                                    <option value="8">未羊</option>
                                    <option value="9">申猴</option>
                                    <option value="10">酉鸡</option>
                                    <option value="11">戌狗</option>
                                    <option value="12">亥猪</option>
                                </select>
                            </label>
                        </div>
                        <div class="moreSearch_form_box mt10 clearfix">
                            <label class="item item-input item-select">
                                <div class="input-label">
                                    星座
                                </div>
                                <select ng-model="searchForm.data.constellation">
                                    <option value="0" selected>不限</option>
                                    <option value="1">白羊座</option>
                                    <option value="2">金牛座</option>
                                    <option value="3">双子座</option>
                                    <option value="4">巨蟹座</option>
                                    <option value="5">狮子座</option>
                                    <option value="6">处女座</option>
                                    <option value="7">天秤座</option>
                                    <option value="8">天蝎座</option>
                                    <option value="9">射手座</option>
                                    <option value="10">摩羯座</option>
                                    <option value="11">水瓶座</option>
                                    <option value="12">双鱼座</option>
                                </select>
                            </label>
                        </div>
                        <div class="moreSearch_form_box mt10 clearfix">
                            <label class="item item-input item-select">
                                <div class="input-label">
                                    民族
                                </div>
                                <select ng-model="searchForm.data.nation">
                                    <option value="0" selected>不限</option>
                                    <option value="1">汉族</option>
                                    <option value="2">基诺族</option>
                                    <option value="3">珞巴族</option>
                                    <option value="4">门巴族</option>
                                    <option value="5">赫哲族</option>
                                    <option value="6">鄂伦春族</option>
                                    <option value="7">独龙族</option>
                                    <option value="8">塔塔尔族</option>
                                    <option value="9">京族</option>
                                    <option value="10">裕固族</option>
                                    <option value="11">保安族</option>
                                    <option value="12">德昂族</option>
                                    <option value="13">鄂温克族</option>
                                    <option value="14">俄罗斯族</option>
                                    <option value="15">乌孜别克族</option>
                                    <option value="16">怒族</option>
                                    <option value="17">塔吉克族</option>
                                    <option value="18">普米族</option>
                                    <option value="19">阿昌族</option>
                                    <option value="20">锡伯族</option>
                                    <option value="21">仡佬族</option>
                                    <option value="22">毛南族</option>
                                    <option value="23">撒拉族</option>
                                    <option value="24">布朗族</option>
                                    <option value="25">羌族</option>
                                    <option value="26">仫佬族</option>
                                    <option value="27">达斡尔族</option>
                                    <option value="28">土族</option>
                                    <option value="29">柯尔克孜族</option>
                                    <option value="30">景颇族</option>
                                    <option value="31">纳西族</option>
                                    <option value="32">东乡族</option>
                                    <option value="33">水族</option>
                                    <option value="34">拉祜族</option>
                                    <option value="35">高山族</option>
                                    <option value="36">畲族</option>
                                    <option value="37">佤族</option>
                                    <option value="38">傈僳族</option>
                                    <option value="39">黎族</option>
                                    <option value="40">傣族</option>
                                    <option value="41">哈萨克族</option>
                                    <option value="42">哈尼族</option>
                                    <option value="43">土家族</option>
                                    <option value="44">白族</option>
                                    <option value="45">瑶族</option>
                                    <option value="46">侗族</option>
                                    <option value="47">满族</option>
                                    <option value="48">朝鲜族</option>
                                    <option value="49">布依族</option>
                                    <option value="50">壮族</option>
                                    <option value="51">彝族</option>
                                    <option value="52">苗族</option>
                                    <option value="53">维吾尔族</option>
                                    <option value="54">藏族</option>
                                    <option value="55">回族</option>
                                    <option value="56">蒙古族</option>
                                </select>
                            </label>
                        </div>
                    </div>
                </div>
            </ion-content>
        </ion-modal-view>
    </script>

    <script id="city-picker-modal.html" type="text/ng-template">
        <div ng-class="{'city-picker-backdrop' : vm.backdrop }">
            <ion-modal-view class="city-picker-bg">
                <div class="city-bgclose" ng-click="vm.clickToClose()"></div>
                <div class="city-picker ">
                    <header class=" bar city-picker-header" ng-class="vm.barCssClass">
                        <h1 class="title"></h1>
                        <div class="buttons">
                            <button class="button" ng-click="vm.returnOk()">{{vm.okText}}</button>
                        </div>
                    </header>
                    <div class="city-picker-inner has-header">
                        <div class="row ">
                            <div class="col col-33">
                                <ion-scroll delegate-handle={{vm.provinceHandle}} on-scroll="vm.getData('province')"
                                            scrollbar-y=false>
                                    <ul>
                                        <li ng-repeat="province in vm.cityData">{{province.name}}</li>
                                    </ul>
                                </ion-scroll>
                            </div>
                            <div class="col col-33">
                                <ion-scroll delegate-handle={{vm.cityHandle}} on-scroll="vm.getData('city')"
                                            scrollbar-y=false>
                                    <ul>
                                        <li ng-repeat="city in vm.province.sub">{{city.name}}</li>
                                    </ul>
                                </ion-scroll>
                            </div>
                            <div class="col col-33">
                                <ion-scroll delegate-handle={{vm.countryHandle}} on-scroll="vm.getData('country')"
                                            scrollbar-y=false>
                                    <ul>
                                        <li ng-repeat="country in vm.city.sub">{{country.name}}</li>
                                    </ul>
                                </ion-scroll>
                            </div>
                        </div>
                        <div class="picker-center-highlight"></div>
                    </div>
                </div>
            </ion-modal-view>
        </div>
    </script>
</div>
</ion-view>
